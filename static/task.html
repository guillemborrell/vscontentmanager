<!DOCTYPE html>
<html lang="es" ng-app="taskApp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    
    <title>Protocol Services</title>
    <!-- Bootstrap Core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="/css/agency.css" rel="stylesheet">
    
    <!-- Custom Fonts -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css"
	  rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->

    <!-- AngularJS -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular-resource.js"></script>
    <script src="/js/controller.js"></script>
  </head>

  <body id="page-top" class="index">
    
{% block navigation %}
    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-shrink navbar-fixed-top">
      <div class="container">
	<!-- Brand and toggle get grouped for better mobile display -->
	<div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/activity" class="navbar-brand">Comm. Protocol Services</a>
	</div>
	
	<!-- Collect the nav links, forms, and other content for toggling -->
	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li class="hidden">
              <a href="#page-top"></a>
            </li>
            <li>
	      <a href="#">Bla</a>
            </li>
            <li>
	      <a href="#">Bla</a>
            </li>	    
            <li>
	      <a href="/logout">Salir</a>
            </li>
          </ul>
	</div>
	<!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
    </nav>
    {% endblock %}
    
    {% block content %}
    {% raw %}
    <section id="services">
      <div class="container" ng-controller="createTask">
	<div class="row">
          <div class="col-lg-12">
	    <h2>Nuevo ejercicio</h2>
	    <form>
	      <div class="form-group">
		<select ng-model="type"
			ng-options="task for task in available_tasks"
			class="form-control">
		  <option value="">Seleccione tipo de ejercicio</option>
		</select>
	      </div>
	    </form>

	    <!-- TEST -->
	    <div ng-if="type == 'Test'">
	      <h3>Crear test</h3>
	      <form>
		<div class="form-group">
		  <label>Nombre (menos de 500 caracteres)</label>
		  <input type="text"
			 ng-model="test.name"
			 class="form-control">
		</div>
		<div style="margin-left:20px;" class="well"
		     ng-repeat="item in test.question_list track by $index">
		  <div class="form-group">
		    <label>Enunciado (Menos de 500 caracteres)</label>
		    <input type="text"
			   ng-model="item.question"
			   class="form-control">
		  </div>
		  <div class="form-group"
		       ng-repeat="choice in item.choices track by $index">
		    <label>{{ $index+1 + '.-' }}</label>
		    <input type="text"
			   ng-model="choice"
			   class="form-control">
		  </div>
		  <button class="btn btn-info"
			  ng-click="add_choice_to_question(item.choices)">
		    Añadir opción
		  </button>
		  <button class="btn bgn-danger"
			  ng-click="remove_choice_from_question(item.choices)">
		    Quitar opción
		  </button>
		  <div class="form-group">
		    <label>Correcto</label>
		    <input type="number"
			   ng-model="item.right"
			   class="form-control">
		  </div>
		</div>
		<div style="margin-left:20px;">
		  <button class="btn btn-info"
			  ng-click="add_question_to_test(test.question_list)">
		    Añadir pregunta
		  </button>
		</div>
	      </form>
	      <div style="margin-top:20px;">
		<button class="btn btn-success"
			ng-click="submit_test()">
		  Crear test.
		</button>
	      </div>
	    </div>  
	    <!-- ACTIVIDAD -->
	    <div ng-if="type == 'Actividad'">
	      <h3>Crear actividad</h3>
	      <form role="form">
		<div class="form-group">
		  <label for="name">Nombre</label>
		  <input type="text"
			 ng-model="activity.name"
			 class="form-control">
		</div>
		<div class="form-group">
		  <label for="name">Descripción (HTML válido)</label>
		  <textarea rows="5" class="form-control">{{ activity.description }}</textarea>
		</div>
		<button class="btn btn-success" ng-click="submit_activity()">
		  Crear Actividad
		</button>
	      </form>
	    </div>
	    
	    <!-- PREGUNTA -->
	    <div ng-if="type == 'Pregunta'">
	      <h3>Crear pregunta</h3>
	      <form role="form">
		<div class="form-group">
		  <label for="name">Nombre (menos de 500 caracteres)</label>
		  <input type="text"
			 ng-model="question.name"
			 class="form-control">
		</div>
		<div class="form-group">
		  <label for="name">Pregunta (menos de 500 caracteres)</label>
		  <input type="text"
			 ng-model="question.question" 
			 class="form-control">
		</div>
		<div class="form-group">
		  <label for="name">Respuesta (menos de 500 caracteres)</label>
		  <input type="text"
			 ng-model="question.answer"
			 class="form-control">
		</div>
		<button class="btn btn-success"
			ng-click="submit_question()">
		  Crear Pregunta
		</button>
	      </form>
	    </div>
	  </div>
	</div>
      </div>
    </section>
    {% endraw %}
    {% endblock %}

    {% block footer %}
    {% endblock %}
    
    <!-- jQuery Version 1.11.0 -->
    <script src="/js/jquery-1.11.0.js"></script>
    
    <!-- Bootstrap Core JavaScript -->
    <script src="/js/bootstrap.min.js"></script>
    
    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="/js/classie.js"></script>
    
  </body>
</html>
